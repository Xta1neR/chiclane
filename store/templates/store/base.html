{% load static %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ChicLane - {% block title %}{% endblock %}</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- AOS -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'store/css/custom.css' %}">

  <style>
    body {
      font-family: 'Poppins', sans-serif !important;
      background: linear-gradient(180deg, #FBF9F6 0%, #F0ECE8 100%);
      color: #1E1E1E;
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: 'Playfair Display', serif;
    }

    .header-brand span {
      font-weight: 700;
      color: #1E1E1E;
    }

    nav a {
      transition: all 0.3s ease;
    }

    nav a:hover {
      color: #C9A34A;
    }

    .footer {
      background: #111;
      color: #ccc;
      padding: 2rem 0;
    }

    .footer h3 {
      color: #C9A34A;
      font-weight: 700;
    }

    .footer p, .footer small {
      color: #aaa;
    }

    /* Card hover luxury effect */
    .card {
      border-radius: 12px;
      background: white;
      box-shadow: 0 4px 20px rgba(30,30,30,0.05);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 34px rgba(30,30,30,0.12);
    }

    .featured-badge {
      background: #C9A34A;
      color: #fff;
      padding: 0.25rem 0.5rem;
      font-weight: 600;
      border-radius: 6px;
      box-shadow: 0 0 8px rgba(201,163,74,0.6);
    }

    /* Luxurious header buttons */
    .header-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      border-radius: 10px;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
      text-decoration: none;
      position: relative;
    }

    /* Wishlist Button */
    .header-btn-wishlist {
      background: linear-gradient(135deg, #FFC1C1, #FF8C8C);
      color: #4B0000;
    }
    .header-btn-wishlist:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(255,140,140,0.4);
      background: linear-gradient(135deg, #FF8C8C, #FFC1C1);
    }

    /* Cart Button */
    .header-btn-cart {
      background: linear-gradient(135deg, #FFE2A8, #FFD278);
      color: #4B3B00;
    }
    .header-btn-cart:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(255,210,120,0.4);
      background: linear-gradient(135deg, #FFD278, #FFE2A8);
    }

    /* Profile Button */
    .header-btn-profile {
      background: #F5F5F5;
      color: #1E1E1E;
    }
    .header-btn-profile:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.12);
      background: #EAEAEA;
    }

    /* Logout Button */
    .header-btn-logout {
      background: #D7263D;
      color: #fff;
    }
    .header-btn-logout:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(215,38,61,0.4);
      background: #FF3B57;
    }

    /* Badge counts */
    .header-btn span.count-badge {
      top: -6px;
      right: -6px;
      background: #C9A34A;
      color: white;
      font-size: 0.7rem;
      font-weight: 700;
      width: 18px;
      height: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      position: absolute;
    }
  </style>

  {% block extra_head %}{% endblock %}
</head>
<body class="antialiased">
  <header class="py-4 bg-white shadow-sm">
    <div class="container mx-auto px-4 flex items-center justify-between">
      <a class="header-brand flex items-center gap-3" href="{% url 'store:home' %}">
        <img src="https://i.ibb.co/Mys9RCyw/logo.jpg" class="w-10 h-10 rounded-full" alt="logo">
        <span class="text-2xl">ChicLane</span>
      </a>

      <nav class="flex items-center gap-4">
        {% if user.is_authenticated %}
  {% if not user.is_staff %}
          <!-- Wishlist -->
          <a href="{% url 'store:wishlist' %}" class="header-btn header-btn-wishlist">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
            </svg>
            <span class="count-badge">{{ wishlist_count|default:"0" }}</span>
            <!-- Wishlist -->
          </a>

          <!-- Cart -->
          <a href="{% url 'store:cart' %}" class="header-btn header-btn-cart">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM7.16 14h9.72l1.24-5H6.1l1.06 5zM20 4H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49-.03-.01L20 4z"/>
            </svg>
            <span class="count-badge">{{ cart_count|default:"0" }}</span>
            <!-- Cart -->
          </a>

          <!-- Profile -->
          <a href="{% url 'store:profile' %}" class="header-btn header-btn-profile">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3.3 0-10 1.7-10 5v3h20v-3c0-3.3-6.7-5-10-5z"/>
            </svg>
            <!-- Profile -->
          </a>
          {% endif %}

          <!-- Logout -->
          <a href="{% url 'store:logout_view' %}" class="header-btn header-btn-logout">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M16 13v-2H7V8l-5 4 5 4v-3zM20 3h-8v2h8v14h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>
            </svg>
            Logout
          </a>
        {% else %}
          <a href="{% url 'store:login' %}?next={{ request.path }}" class="text-sm hover:text-yellow-600 transition flex items-center gap-1">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M10 17l5-5-5-5v3H3v4h7v3zM19 3h-8v2h8v14h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>
            </svg>
            Login
          </a>
          <a href="{% url 'store:signup' %}" class="text-sm hover:text-yellow-600 transition flex items-center gap-1">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3.3 0-10 1.7-10 5v3h20v-3c0-3.3-6.7-5-10-5z"/>
            </svg>
            Sign Up
          </a>
        {% endif %}
      </nav>
    </div>
  </header>

  <main class="py-8">
    <div class="container mx-auto px-4">
      {% if messages %}
        <div>
          {% for m in messages %}
            <div class="mb-3 p-3 rounded bg-green-50 border border-green-100">{{ m }}</div>
          {% endfor %}
        </div>
      {% endif %}
      {% block content %}{% endblock %}
    </div>
  </main>

  <footer class="footer bg-black text-white">
    <div class="container mx-auto px-4">
      <div class="flex justify-between items-center">
        <div>
          <h3 class="font-semibold">ChicLane</h3>
          <p class="text-xs text-gray-300">Luxury clothing for every moment.</p>
        </div>
        <div>
          <small>© {{ now.year }} ChicLane — All rights reserved</small>
        </div>
      </div>

      <div class="mt-6 border-t border-gray-700 pt-4 text-xs text-gray-300 space-y-2">
        <p><strong>Registered Office Address</strong></p>
        <p>Buildings Alyssa, Begonia and Clover situated in Embassy Tech Village, Outer Ring Road, Devarabeesanahalli Village, Varthur Hobli, Bengaluru – 560103, India</p>
        <p>CIN: U72300KA2007PTC041799</p>
        <p>Telephone: +91-80-61561999</p>
        <p>ONLINE SHOPPING MADE EASY AT CHICLANE</p>
        <p>
          If you would like to experience the best of online shopping for men, women and kids in India, you are at the right place. Chiclane is the ultimate destination for fashion and lifestyle, being host to a wide array of merchandise including clothing, footwear, accessories, jewellery, personal care products and more. It is time to redefine your style statement with our treasure-trove of trendy items. Our online store brings you the latest in designer products straight out of fashion houses. You can shop online at Chiclane from the comfort of your home and get your favourites delivered right to your doorstep.
        </p>
      </div>
    </div>
  </footer>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init({duration: 500, once: true});
  </script>
  <script src="{% static 'store/js/store.js' %}"></script>
  {% block extra_scripts %}{% endblock %}
  {% if messages %}
  <div class="fixed top-4 right-4 space-y-2 z-50">
    {% for message in messages %}
      <div class="px-4 py-2 rounded-lg text-white {% if message.tags == 'success' %}bg-green-500{% elif message.tags == 'error' %}bg-red-500{% else %}bg-gray-700{% endif %}">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}

</body>
</html>
